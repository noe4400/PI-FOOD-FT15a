{"ast":null,"code":"import axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport function getDietTypes() {\n  return function (dispatch) {\n    return axios.get(\"http://localhost:3001/types\").then(response => {\n      dispatch({\n        type: \"GET_DIET_TYPES\",\n        payload: response.data.map(e => e.name)\n      });\n    }).catch(err => {\n      dispatch({\n        type: \"SERVER _ERR\",\n        payload: err\n      });\n    });\n  };\n}\nexport function searchByName(name) {\n  return function (dispatch) {\n    return axios.get(`http://localhost:3001/recipes?name=${name}`).then(response => {\n      dispatch({\n        type: \"GET_SEARCH_RESULTS\",\n        payload: response.data\n      });\n    }).catch(error => {\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n\n        if (error.response.status = \"404\") {\n          return dispatch({\n            type: \"FOUND_RESULTS\"\n          });\n        }\n      } else if (error.request) {\n        // The request was made but no response was received\n        // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n        // http.ClientRequest in node.js\n        console.log(error.request);\n      }\n    });\n  };\n}\nexport function searchBy() {\n  return function (dispatch) {\n    return axios.get(`http://localhost:3001/recipes`).then(response => {\n      dispatch({\n        type: \"GET_SEARCH_RESULTS\",\n        payload: response.data\n      });\n    }).catch(error => {\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n\n        if (error.response.status = \"404\") {\n          return dispatch({\n            type: \"FOUND_RESULTS\"\n          });\n        }\n      } else if (error.request) {\n        // The request was made but no response was received\n        // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n        // http.ClientRequest in node.js\n        console.log(\"unable to connect to the server, please try again!\");\n        console.log(error.request);\n      }\n    });\n  };\n}\nexport function postRecipe(obj) {\n  return function (dispatch) {\n    return axios.post(\"http://localhost:3001/recipe\", {\n      title: obj.name,\n      summary: obj.summary,\n      score: obj.score,\n      healthscore: obj.healthScore,\n      instructions: obj.steps,\n      dietTypes: obj.dietTypesArray\n    }).then(res => {\n      Swal.fire({\n        title: \"Success!\",\n        text: \"The recipe was added successfully\",\n        icon: \"success\",\n        confirmButtonText: \"Close\"\n      });\n      return dispatch({\n        type: \"POST_ERROR\",\n        payload: false\n      });\n    }).catch(err => {\n      Swal.fire({\n        title: \"Error!\",\n        text: \"Unable to add recipe, please try again!\",\n        icon: \"error\",\n        confirmButtonText: \"Close\"\n      });\n      return dispatch({\n        type: \"POST_ERROR\",\n        payload: true\n      });\n    });\n  };\n}\nexport function setLoading(param) {\n  return function (dispatch) {\n    dispatch({\n      type: \"CHANGE_LOADING\",\n      payload: param\n    });\n  };\n}\nexport function setPageNumbers(array) {\n  return function (dispatch) {\n    dispatch({\n      type: \"SET_PAGE_NUMBERS\",\n      payload: array\n    });\n  };\n}\nexport function setCurrentPage(currentPage) {\n  return function (dispatch) {\n    dispatch({\n      type: \"SET_CURRENT_PAGE\",\n      payload: currentPage\n    });\n  };\n}\nexport function orderResults(results, order) {\n  return function (dispatch) {\n    dispatch({\n      type: `ORDER_${order}`,\n      payload: results\n    });\n  };\n}\nexport function setOrderBy(order) {\n  return function (dispatch) {\n    dispatch({\n      type: \"SET_ORDER\",\n      payload: order\n    });\n  };\n}\nexport function setFilter(filter) {\n  return function (dispatch) {\n    dispatch({\n      type: \"SET_FILTER\",\n      payload: filter\n    });\n  };\n}","map":{"version":3,"sources":["/home/noe4400/Documents/react-projects/PI-FOOD-FT15a/client/src/actions/index.js"],"names":["axios","Swal","getDietTypes","dispatch","get","then","response","type","payload","data","map","e","name","catch","err","searchByName","error","console","log","status","headers","request","searchBy","postRecipe","obj","post","title","summary","score","healthscore","healthScore","instructions","steps","dietTypes","dietTypesArray","res","fire","text","icon","confirmButtonText","setLoading","param","setPageNumbers","array","setCurrentPage","currentPage","orderResults","results","order","setOrderBy","setFilter","filter"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport function getDietTypes() {\n  return function (dispatch) {\n    return axios\n      .get(\"http://localhost:3001/types\")\n      .then((response) => {\n        dispatch({\n          type: \"GET_DIET_TYPES\",\n          payload: response.data.map((e) => e.name),\n        });\n      })\n      .catch((err) => {\n        dispatch({\n          type: \"SERVER _ERR\",\n          payload: err,\n        });\n      });\n  };\n}\n\nexport function searchByName(name) {\n  return function (dispatch) {\n    return axios\n      .get(`http://localhost:3001/recipes?name=${name}`)\n      .then((response) => {\n        dispatch({\n          type: \"GET_SEARCH_RESULTS\",\n          payload: response.data,\n        });\n      })\n      .catch((error) => {\n        if (error.response) {\n          // The request was made and the server responded with a status code\n          // that falls out of the range of 2xx\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n          if ((error.response.status = \"404\")) {\n            return dispatch({\n              type: \"FOUND_RESULTS\",\n            });\n          }\n        } else if (error.request) {\n          // The request was made but no response was received\n          // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n          // http.ClientRequest in node.js\n          console.log(error.request);\n        }\n      });\n  };\n}\nexport function searchBy() {\n  return function (dispatch) {\n    return axios\n      .get(`http://localhost:3001/recipes`)\n      .then((response) => {\n        dispatch({\n          type: \"GET_SEARCH_RESULTS\",\n          payload: response.data,\n        });\n      })\n      .catch((error) => {\n        if (error.response) {\n          // The request was made and the server responded with a status code\n          // that falls out of the range of 2xx\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n          if ((error.response.status = \"404\")) {\n            return dispatch({\n              type: \"FOUND_RESULTS\",\n            });\n          }\n        } else if (error.request) {\n          // The request was made but no response was received\n          // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n          // http.ClientRequest in node.js\n          console.log(\"unable to connect to the server, please try again!\");\n          console.log(error.request);\n        }\n      });\n  };\n}\n\nexport function postRecipe(obj) {\n  return function (dispatch) {\n    return axios\n      .post(\"http://localhost:3001/recipe\", {\n        title: obj.name,\n        summary: obj.summary,\n        score: obj.score,\n        healthscore: obj.healthScore,\n        instructions: obj.steps,\n        dietTypes: obj.dietTypesArray,\n      })\n      .then((res) => {\n        Swal.fire({\n          title: \"Success!\",\n          text: \"The recipe was added successfully\",\n          icon: \"success\",\n          confirmButtonText: \"Close\",\n        });\n        return dispatch({\n          type: \"POST_ERROR\",\n          payload: false,\n        });\n      })\n      .catch((err) => {\n        Swal.fire({\n          title: \"Error!\",\n          text: \"Unable to add recipe, please try again!\",\n          icon: \"error\",\n          confirmButtonText: \"Close\",\n        });\n        return dispatch({\n          type: \"POST_ERROR\",\n          payload: true,\n        });\n      });\n  };\n}\n\nexport function setLoading(param) {\n  return function (dispatch) {\n    dispatch({\n      type: \"CHANGE_LOADING\",\n      payload: param,\n    });\n  };\n}\n\nexport function setPageNumbers(array) {\n  return function (dispatch) {\n    dispatch({\n      type: \"SET_PAGE_NUMBERS\",\n      payload: array,\n    });\n  };\n}\n\nexport function setCurrentPage(currentPage) {\n  return function (dispatch) {\n    dispatch({\n      type: \"SET_CURRENT_PAGE\",\n      payload: currentPage,\n    });\n  };\n}\nexport function orderResults(results, order) {\n  return function (dispatch) {\n    dispatch({\n      type: `ORDER_${order}`,\n      payload: results,\n    });\n  };\n}\nexport function setOrderBy(order) {\n  return function (dispatch) {\n    dispatch({\n      type: \"SET_ORDER\",\n      payload: order,\n    });\n  };\n}\n\nexport function setFilter(filter) {\n  return function (dispatch) {\n    dispatch({\n      type: \"SET_FILTER\",\n      payload: filter,\n    });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}